(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{41:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(29),s=(n(41),n(5)),u=n(3),o=function(){var t=Object(s.l)();return Object(u.jsx)("header",{children:Object(u.jsxs)("div",{className:"headerContainer",children:[Object(u.jsx)("h2",{children:"\ud22c \ub450 \ub9ac\uc2a4\ud2b8!"}),null!==localStorage.getItem("access_token")&&Object(u.jsx)("span",{onClick:function(){window.confirm("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(localStorage.removeItem("access_token"),t("/"))},children:"Logout"})]})})},i=n(6),l=n(9),j=n(17),b=n(4),p=n(8),d=n(48),f=d.a.create({baseURL:"https://pre-onboarding-selection-task.shop"}),O=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.post("/auth/signup",e).then((function(t){return t})).catch((function(t){return t.response}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.post("/auth/signin",e).then((function(t){return localStorage.setItem("access_token",t.data.access_token),t.status})).catch((function(t){return t.response.status}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e,n){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:t.sent<300?n("/todo"):alert("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4");case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e,n){var r;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:r=t.sent,r.status<300?(alert("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4."),n("login")):alert("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4");case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(t,e,n,r,a,c,s,u){n(Object(j.a)(Object(j.a)({},u),{},Object(l.a)({},t,e))),"email"===t&&e.includes("@")?(r(""),a(!0)):"email"!==t||e.includes("@")||(r("\uc774\uba54\uc77c \ud615\uc2dd\uc5d0 \ub9de\uac8c \uc785\ub825\ud574 \uc8fc\uc138\uc694."),a(!1)),"password"===t&&(e.length<8?r("\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc774\uc5ec\uc57c \ud569\ub2c8\ub2e4."):c&&(r(""),s(!1)))},g=function(){var t=Object(s.l)(),e=a.a.useState({email:"",password:""}),n=Object(i.a)(e,2),r=n[0],c=n[1],o=a.a.useState(""),l=Object(i.a)(o,2),j=l[0],b=l[1],p=a.a.useState(!0),d=Object(i.a)(p,2),f=d[0],O=d[1],h=a.a.useState(!0),m=Object(i.a)(h,2),g=m[0],w=m[1],k=function(t,e){v(e,t.target.value,c,b,O,f,w,r)};return Object(u.jsxs)("div",{className:"auth",children:[Object(u.jsx)("h2",{children:"\ub85c\uadf8\uc778"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(r,t)},children:[Object(u.jsx)("label",{htmlFor:"email",children:"ID"}),Object(u.jsx)("input",{type:"email",name:"email",onChange:function(t){return k(t,"email")},placeholder:"example@email.com"}),Object(u.jsx)("label",{htmlFor:"password",children:"PW"}),Object(u.jsx)("input",{type:"password",name:"password",onChange:function(t){return k(t,"password")},placeholder:"8\uc790 \uc774\uc0c1"}),Object(u.jsx)("div",{className:"alert",children:j}),Object(u.jsx)("button",{className:"login__btn",disabled:g,children:"\ub85c\uadf8\uc778"})]})]})},w=function(t){var e=t.setTab,n=a.a.useState({email:"",password:""}),r=Object(i.a)(n,2),c=r[0],s=r[1],o=a.a.useState(""),l=Object(i.a)(o,2),j=l[0],b=l[1],p=a.a.useState(!0),d=Object(i.a)(p,2),f=d[0],O=d[1],h=a.a.useState(!0),x=Object(i.a)(h,2),g=x[0],w=x[1],k=function(t,e){v(e,t.target.value,s,b,O,f,w,c)};return Object(u.jsxs)("div",{className:"auth",children:[Object(u.jsx)("h2",{children:"\ud68c\uc6d0\uac00\uc785"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),m(c,e)},children:[Object(u.jsx)("label",{htmlFor:"email",children:"ID"}),Object(u.jsx)("input",{type:"email",onChange:function(t){return k(t,"email")},name:"email",placeholder:"example@email.com"}),Object(u.jsx)("label",{htmlFor:"password",children:"PW"}),Object(u.jsx)("input",{type:"password",onChange:function(t){return k(t,"password")},name:"password",placeholder:"8\uc790 \uc774\uc0c1"}),Object(u.jsx)("div",{className:"alert",children:j}),Object(u.jsx)("button",{className:"signup__btn",disabled:g,children:"\ud68c\uc6d0\uac00\uc785"})]})]})},k=function(t){var e=t.tab,n=t.setTab;return"login"===e?Object(u.jsx)(g,{}):Object(u.jsx)(w,{setTab:n})},S=function(){var t=a.a.useState("login"),e=Object(i.a)(t,2),n=e[0],r=e[1];return null!==localStorage.getItem("access_token")?Object(u.jsx)(s.a,{to:"/todo"}):Object(u.jsxs)("div",{className:"main",children:[Object(u.jsxs)("div",{className:"main__btns",children:[Object(u.jsx)("button",{className:"login"===n?"active":void 0,onClick:function(){return r("login")},children:"\ub85c\uadf8\uc778"}),Object(u.jsx)("button",{className:"signup"===n?"active":void 0,onClick:function(){return r("signup")},children:"\ud68c\uc6d0\uac00\uc785"})]}),Object(u.jsx)(k,{tab:n,setTab:r})]})},y=n(12),C=d.a.create({baseURL:"https://pre-onboarding-selection-task.shop"});C.interceptors.request.use((function(t){var e=localStorage.getItem("access_token");return t.headers.Authorization="Bearer "+e,t}));var N=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.post("/todos",e).then((function(t){return t})).catch((function(t){return t.response}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(p.a)(Object(b.a)().mark((function t(){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.get("/todos").then((function(t){return t})).catch((function(t){return t.response}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.put("/todos/".concat(e.id),{todo:e.todo,isCompleted:e.isCompleted}).then((function(t){return t})).catch((function(t){return t.response}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.delete("/todos/".concat(e),"").then((function(t){return t})).catch((function(t){return t.response}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e,n,r,a){var c,s;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,N({todo:e});case 4:c=t.sent,s=c.data,c.status<300?a([s].concat(Object(y.a)(n))):alert("\ub9ac\uc2a4\ud2b8 \ucd94\uac00\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4");case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),F=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e,n,r,a){var c,s,u;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:c=t.sent,s=c.data,c.status<300?(u=n.map((function(t){return t.id===s.id?s:t})),r(u),a(s.isCompleted)):alert("\ud22c\ub450 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4");case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),L=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e,n,r,a){var c,s,u;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:c=t.sent,s=c.data,c.status<300?(u=n.map((function(t){return t.id===s.id?s:t})),r(u),a(!1)):alert("\ud22c\ub450 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4");case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),R=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e){var n,r;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:n=t.sent,r=n.data,n.status<300?e(r):alert("\ub370\uc774\ud130 \ubd88\ub7ec\uc624\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(p.a)(Object(b.a)().mark((function t(e,n,r){var a;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(r);case 2:a=t.sent,a.status<300?e(n.filter((function(t){return t.id!==r}))):alert("\ud22c\ub450 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),B=function(t){var e=t.el,n=t.setData,r=t.data,c=a.a.useState(!1),s=Object(i.a)(c,2),o=s[0],l=s[1],b=a.a.useState(e.isCompleted),p=Object(i.a)(b,2),d=p[0],f=p[1];return Object(u.jsxs)("li",{children:[Object(u.jsx)("input",{type:"checkbox",checked:d,onChange:function(t){var a=Object(j.a)(Object(j.a)({},e),{},{isCompleted:t.target.checked});F(a,r,n,f)}}),o?Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.todo.value;if(0!==a.length&&a!==e.todo){var c=Object(j.a)(Object(j.a)({},e),{},{todo:a});L(c,r,n,l)}},children:[Object(u.jsx)("input",{type:"text",name:"todo",defaultValue:e.todo}),Object(u.jsx)("button",{children:"\uc218\uc815\uc644\ub8cc"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:e.todo}),Object(u.jsx)("button",{onClick:function(){return l(!o)},children:"\uc218\uc815"}),Object(u.jsx)("button",{onClick:function(t){A(n,r,e.id)},children:"\uc0ad\uc81c"})]})]})},E=function(t){var e=t.data,n=t.setData;return Object(u.jsx)("div",{className:"writeTodo",children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),T(t.currentTarget.todo.value,e,n)},children:[Object(u.jsx)("input",{type:"text",name:"todo"}),Object(u.jsx)("button",{children:"\ucd94\uac00"})]})})},J=function(){var t=a.a.useState([]),e=Object(i.a)(t,2),n=e[0],r=e[1];return a.a.useEffect((function(){null!==localStorage.getItem("access_token")&&R(r)}),[]),null===localStorage.getItem("access_token")?Object(u.jsx)(s.a,{to:"/"}):Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"\ud22c\ub450\ub9ac\uc2a4\ud2b8"}),Object(u.jsx)(E,{data:n,setData:r}),0!==n.length&&n.map((function(t){return Object(u.jsx)(B,{el:t,setData:r,data:n},t.id)}))]})},P=[{path:"/",element:Object(u.jsx)(s.b,{}),children:[{path:"/",element:Object(u.jsx)(S,{}),index:!0},{path:"/todo",element:Object(u.jsx)(J,{}),index:!0}]}];function U(){var t=Object(s.o)(P);return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(o,{}),Object(u.jsx)("div",{className:"container",children:t})]})}var W=n(14),q=document.getElementById("root");Object(c.createRoot)(q).render(Object(u.jsx)(W.a,{basename:"/wanted-pre-onboarding-frontend",children:Object(u.jsx)(U,{})}))}},[[47,1,2]]]);
//# sourceMappingURL=main.feb552f6.chunk.js.map